
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- CSS file link -->
    <link rel="stylesheet" href="./css/checkout.css">

    <!-- Font link -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Audiowide">

    <!-- Animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <title>Checkout</title>
</head>

<body>

    <section class="content" style="background-image: url(./assets/background_image.jpg)">

        <!-- Header Bar-->
        <section class="top">
            <!-- Social Media Icons -->
            <a href="./index.html"><img src="./assets\cinema-logo.png" alt="back to home"
                    style="width:120px;height:90px;" id="home-button"></a>
            <a href="./index.html"><img src="./assets\youtube.png" alt="back to home" style="width: 70px;height:40px;"
                    id="youtube-button"></a>
            <a href="./index.html"><img src="./assets\twitter.png" alt="back to home" style="width:50px;height:50px;"
                    id="twitter-button"></a>
            <!-- Title -->
            <h1>CHECKOUT</h1>
        </section>

        <!-- Body -->
        <section class="py-5">
            <div class="container overlay">

                <!-- Main Box -->
                <div class="row main_box g-0 animate__animated animate__zoomIn animate__repeat-1">
                    <!-- Credit Card and Billing Adress Form -->
                    <div class="left col-lg-7">
                        <!-- Form Starts Here -->
                        <form class="checkout-form" id = "checkout-form" method="post">
                            <div class="info_title">
                                <h2>Payment Method</h2>
                            </div>

                            <!-- Use Existing Card Option-->
                            <!-- For later implementation, when this option is selected, we could grey out/disable the rest of the form-->
                            <h3>Use Existing Card</h3>

                            <select class="form-select" name = "card-select" label="Default select example">
                                <!-- Dummy Data-->
                                <option selected>select menu</option>
                                <option value="1">Visa ending in 2353</option>
                                <option value="2">MasterCard ending in 1019</option>
                                <br>
                            </select>

                            <!-- Add New Card Section of Form-->
                            <h3>Add New Card</h3>
                            <div class="row">
                                <br>
                                <input type="text" name="creditCardNum" class="form-control form-control-sm" id="input"
                                    placeholder="credit card number">
                            </div>
                            <div class="row g-4">
                                <div class="col">
                                    <input type="text" name="expirationDate" class="form-control form-control-sm"
                                        id="input" placeholder="expiration date">
                                </div>
                                <div class="col">
                                    <input type="text" name="ccv" class="form-control form-control-sm" id="input"
                                        placeholder="ccv">
                                    <br>
                                </div>
                            </div>

                            <!-- Billing Address Section-->
                            <div class="info_title">
                                <h2>Billing Address</h2>
                            </div>

                            <div class="row g-3">
                                <div class="col">
                                    <label for="address" class="form-label">Address</label>
                                    <input type="text" name="address" class="form-control form-control-sm" id="input"
                                        placeholder="address">
                                </div>
                                <div class="col">
                                    <label for="address2" class="form-label">Address 2</label>
                                    <input type="text" name="address2" class="form-control form-control-sm" id="input"
                                        placeholder="address2">
                                </div>
                            </div>
                            <div class="row g-3">
                                <div class="col">
                                    <label for="city" class="form-label">City</label>
                                    <input type="text" name="city" class="form-control form-control-sm" id="input"
                                        placeholder="city">
                                </div>
                                <div class="col">
                                    <label for="state" class="form-label">State</label>
                                    <input type="text" name="state" class="form-control form-control-sm" id="input"
                                        placeholder="state">
                                </div>
                                <div class="col">
                                    <label for="zipCode" class="form-label">Zip Code</label>
                                    <input type="text" name="zipCode" class="form-control form-control-sm" id="input"
                                        placeholder="zipcode">
                                    <br>
                                </div>
                            </div>

                        </div>
                        


                    <!-- Cart Details -->
                        <div class="right price_table col-lg-5">
                            <!-- Dummy Data-->
                            <!-- Change the movie title later on. -->
                            <h2>Movie: Avengers Endgame</h2>

                            <div class="offset-md-1">
                                
                                <br>
                                <!-- Row with lables for the table -->
                                <!-- Change the ticket numbers later on -->
                                <table id = "description">
                                    <!-- 1st Row -->
                                    <tr>
                                    <td> Type of Ticket </td>
                                    <td> # of Ticket </td>
                                    <td> Price </td>
                                    </tr>
                    
                                    <!-- 2nd Row -->
                                    <tr>
                                    <td> Child </td>
                                    <td> <span id = "child_Count"> 0 </span> </td>
                                    <td> $<span id = "child_Price">0</span>.00 </td>
                                    </tr>
                    
                                    <!-- 3rd Row -->
                                    <tr>
                                    <td> Adult </td>
                                    <td> <span id = "adult_Count"> 0 </span> </td>
                                    <td> $<span id = "adult_Price">0</span>.00 </td>
                                    </tr>
                    
                                    <!-- 4th Row-->
                                    <tr>
                                    <td> Senior </td>
                                    <td> <span id = "senior_Count"> 0 </span> </td>
                                    <td> $<span id = "senior_Price">0</span>.00 </td>
                                    </tr>
                    
                                    <!-- 5th Row -->
                                    <tr>
                                    <td> Sales Tax (4%) </td>
                                    <td></td>
                                    <td> $<span id = "sales_Tax">0</span> </td>
                                    </tr>
                    
                                    <!-- 6th Row -->
                                    <tr>
                                    <td> Online Fees </td>
                                    <td></td>
                                    <td> $5.00 </td>
                                    </tr>
                                </table>
                    
                    
                    
                                <p id = "description">
                                    _______________________________________
                                    <br>
                                    Total: $<span id = "total_Price">0</span>
                                </p>
                                </div>
                                <br>

                                <!-- Cancel Order Button-->
                                <div class="row g-2">
                                    <div class="col">
                                        <div class="form-group">
                                            <button class = "btn btn-danger" onclick="cancelOrder()">Cancel Order</button>
                                        </div>

                                        <!-- Inform the user that all the reserved seats will get released if he/she chooses to cancel order. -->
                                        <script>
                                            function cancelOrder() {
                                            let text = "If you cancel, all the reserved seats will be released.";
                                            if (confirm(text) == true) {
                                                text = "Cancel!";
                                                window.location.href = "./index.html";
                                            } else {
                                                text = "Not cancelled.";
                                            } // if-else
                                            } 
                                        </script>
                                    </div>

                                    <div class="col">
                                        <!-- Checkout Button -->
                                        <!-- Check if the user is logged in (check if the session has started),
                                        if yes, proceed to the confirmation page. If not, display the popup that asks the user to log in first. -->
                                        <!-- Store the ticket information w/ the session so that the user seats are not lost after leaving for & returning after signing in. -->
                                        <div class="form-group">
                                            <button class ="btn btn-danger" onclick = "confirmOrder()">Confirm Order</button>
                                        </div>

                                        <!-- Check if the user is logged in -->
                                        <script>
                                            function confirmOrder() {
                                                // define the 'sessionexists' later on
                                                if(true/*!sessionexists*/) {
                                                    alert("You must be logged in to book tickets!");
                                                } else {
                                                    //submit form data and proceed to confirmation page 
                                                    var form = document.getElementById("checkout-form");

                                                    document.getElementById("checkout-form").addEventListener("click", function () {
                                                    form.submit();
                                                    }); // submit form
                                                } // if-else
                                            }
                                        </script>
                                    </div>
                                </div>
                            </div>

                            <!-- Form ends here. -->
                        </form>
                    </div>
                </div>
            </div>


        </section>
    </section>

    <!-- JS -->
    <script src = "./order_summary.js"> </script>

</body>

</html>